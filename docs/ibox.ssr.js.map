{"version":3,"file":"ibox.ssr.js","sources":["../src/components/loading.vue","../src/components/redo.vue","../src/components/close.vue","../src/components/small.vue","../src/components/large.vue","../src/components/link.vue","../src/components/iBox.vue"],"sourcesContent":["<template>\n<svg viewBox=\"0 0 120 120\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n      <g id=\"circle\" class=\"g-circles g-circles--v1\">\n          <circle id=\"12\" transform=\"translate(35, 16.698730) rotate(-30) translate(-35, -16.698730) \" cx=\"35\" cy=\"16.6987298\" r=\"10\"></circle>\n          <circle id=\"11\" transform=\"translate(16.698730, 35) rotate(-60) translate(-16.698730, -35) \" cx=\"16.6987298\" cy=\"35\" r=\"10\"></circle>\n          <circle id=\"10\" transform=\"translate(10, 60) rotate(-90) translate(-10, -60) \" cx=\"10\" cy=\"60\" r=\"10\"></circle>\n          <circle id=\"9\" transform=\"translate(16.698730, 85) rotate(-120) translate(-16.698730, -85) \" cx=\"16.6987298\" cy=\"85\" r=\"10\"></circle>\n          <circle id=\"8\" transform=\"translate(35, 103.301270) rotate(-150) translate(-35, -103.301270) \" cx=\"35\" cy=\"103.30127\" r=\"10\"></circle>\n          <circle id=\"7\" cx=\"60\" cy=\"110\" r=\"10\"></circle>\n          <circle id=\"6\" transform=\"translate(85, 103.301270) rotate(-30) translate(-85, -103.301270) \" cx=\"85\" cy=\"103.30127\" r=\"10\"></circle>\n          <circle id=\"5\" transform=\"translate(103.301270, 85) rotate(-60) translate(-103.301270, -85) \" cx=\"103.30127\" cy=\"85\" r=\"10\"></circle>\n          <circle id=\"4\" transform=\"translate(110, 60) rotate(-90) translate(-110, -60) \" cx=\"110\" cy=\"60\" r=\"10\"></circle>\n          <circle id=\"3\" transform=\"translate(103.301270, 35) rotate(-120) translate(-103.301270, -35) \" cx=\"103.30127\" cy=\"35\" r=\"10\"></circle>\n          <circle id=\"2\" transform=\"translate(85, 16.698730) rotate(-150) translate(-85, -16.698730) \" cx=\"85\" cy=\"16.6987298\" r=\"10\"></circle>\n          <circle id=\"1\" cx=\"60\" cy=\"10\" r=\"10\"></circle>\n      </g>\n\n      <use xlink:href=\"#circle\" class=\"use\"></use>\n</svg>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\n@Component\nexport default class Loading extends Vue {\n\n}\n</script>\n\n<style lang=\"stylus\" scoped>\nsvg{\n    width 50px\n    height 50px\n}\n\ncircle {\n  fill: dodgerblue;\n  fill-opacity: 0;\n  animation: opacity 1.2s linear infinite;\n}\n\ncircle:nth-child(12n + 1) {\n  -webkit-animation-delay: -0.1s;\n  animation-delay: -0.1s;\n}\ncircle:nth-child(12n + 2) {\n  -webkit-animation-delay: -0.2s;\n  animation-delay: -0.2s;\n}\ncircle:nth-child(12n + 3) {\n  -webkit-animation-delay: -0.3s;\n  animation-delay: -0.3s;\n}\ncircle:nth-child(12n + 4) {\n  -webkit-animation-delay: -0.4s;\n  animation-delay: -0.4s;\n}\ncircle:nth-child(12n + 5) {\n  -webkit-animation-delay: -0.5s;\n  animation-delay: -0.5s;\n}\ncircle:nth-child(12n + 6) {\n  -webkit-animation-delay: -0.6s;\n  animation-delay: -0.6s;\n}\ncircle:nth-child(12n + 7) {\n  -webkit-animation-delay: -0.7s;\n  animation-delay: -0.7s;\n}\ncircle:nth-child(12n + 8) {\n  -webkit-animation-delay: -0.8s;\n  animation-delay: -0.8s;\n}\ncircle:nth-child(12n + 9) {\n  -webkit-animation-delay: -0.9s;\n  animation-delay: -0.9s;\n}\ncircle:nth-child(12n + 10) {\n  -webkit-animation-delay: -1s;\n  animation-delay: -1s;\n}\ncircle:nth-child(12n + 11) {\n  -webkit-animation-delay: -1.1s;\n  animation-delay: -1.1s;\n}\ncircle:nth-child(12n + 12) {\n  -webkit-animation-delay: -1.2s;\n  animation-delay: -1.2s;\n}\n\n@keyframes opacity {\n  3% {\n    fill-opacity: 1;\n  }\n\n  75% {\n    fill-opacity: 0;\n  }\n}\n</style>\n\n","<template>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 53 50\"\n  >\n    <path\n      d=\"M436.5,275.5a21,21,0,1,0,21-21\"\n      transform=\"translate(-429 -250)\"\n      style=\"fill:#000;stroke:#fff;stroke-linecap:round;stroke-miterlimit:10;stroke-width:4px\"\n    />\n    <polygon\n      points=\"3 24 7.5 18 12 24 3 24\"\n      style=\"stroke:#fff;stroke-linecap:round;stroke-linejoin:round;stroke-width:4px\"\n    />\n  </svg>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\n@Component\nexport default class Redo extends Vue {}\n</script>\n\n\n<style lang=\"stylus\" scoped>\nsvg {\n    width 14px\n    margin-right 5px\n    top -2px\n    position relative\n}\n</style>\n\n\n","<template>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 46 46\"\n  >\n    <circle\n      cx=\"23\"\n      cy=\"23\"\n      r=\"21\"\n      style=\"fill:none;stroke:#fff;stroke-linecap:round;stroke-miterlimit:10;stroke-width:4px\"\n    />\n    <line\n      x1=\"17\"\n      y1=\"29\"\n      x2=\"29\"\n      y2=\"17\"\n      style=\"fill:none;stroke:#fff;stroke-linecap:round;stroke-linejoin:round;stroke-width:4px\"\n    />\n    <line\n      x1=\"29\"\n      y1=\"29\"\n      x2=\"17\"\n      y2=\"17\"\n      style=\"fill:none;stroke:#fff;stroke-linecap:round;stroke-linejoin:round;stroke-width:4px\"\n    /></svg>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\n@Component\nexport default class Close extends Vue {}\n</script>\n\n\n<style lang=\"stylus\" scoped>\nsvg {\n    width 14px\n    margin-right 5px\n    top -2px\n    position relative\n}\n</style>\n\n\n","<template>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 47.61 48.5\"\n  >\n    <ellipse\n      cx=\"16.15\"\n      cy=\"16\"\n      rx=\"14.15\"\n      ry=\"14\"\n      style=\"fill:none;stroke:#fff;stroke-linecap:round;stroke-miterlimit:10;stroke-width:4px\"\n    />\n    <path\n      d=\"M26.76,27.7,44.61,45.5Z\"\n      style=\"fill:#fff;stroke:#fff;stroke-linecap:round;stroke-linejoin:round;stroke-width:6px\"\n    />\n    <line\n      x1=\"10.15\"\n      y1=\"16\"\n      x2=\"22.15\"\n      y2=\"16\"\n      style=\"fill:none;stroke:#fff;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px\"\n    /></svg>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\n@Component\nexport default class Small extends Vue {}\n</script>\n\n\n<style lang=\"stylus\" scoped>\nsvg {\n    width 14px\n    margin-right 7px\n    top -1px\n    position relative\n}\n</style>\n\n\n","<template>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 47.74 48.5\"\n  >\n    <ellipse\n      cx=\"16.15\"\n      cy=\"16\"\n      rx=\"14.15\"\n      ry=\"14\"\n      style=\"fill:none;stroke:#fff;stroke-linecap:round;stroke-miterlimit:10;stroke-width:4px\"\n    />\n    <path\n      d=\"M26.89,27.7,44.74,45.5Z\"\n      style=\"fill:#fff;stroke:#fff;stroke-linecap:round;stroke-linejoin:round;stroke-width:6px\"\n    />\n    <line\n      x1=\"11.15\"\n      y1=\"16\"\n      x2=\"21.15\"\n      y2=\"16\"\n      style=\"fill:none;stroke:#fff;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px\"\n    />\n    <line\n      x1=\"16.15\"\n      y1=\"21\"\n      x2=\"16.15\"\n      y2=\"11\"\n      style=\"fill:none;stroke:#fff;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px\"\n    /></svg>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\n@Component\nexport default class Large extends Vue {}\n</script>\n\n\n<style lang=\"stylus\" scoped>\nsvg {\n    width 14px\n    margin-right 7px\n    top -1px\n    position relative\n}\n</style>\n\n\n","<template>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 66 39\"\n  >\n    <path\n      d=\"M22.39,37H14A12,12,0,0,1,2,25V14A12,12,0,0,1,14,2h8.39\"\n      style=\"fill:none;stroke:#fff;stroke-linecap:round;stroke-miterlimit:10;stroke-width:4px\"\n    />\n    <path\n      d=\"M42.54,2H52A12,12,0,0,1,64,14V25A12,12,0,0,1,52,37H42.54\"\n      style=\"fill:none;stroke:#fff;stroke-linecap:round;stroke-miterlimit:10;stroke-width:4px\"\n    />\n    <line\n      x1=\"18\"\n      y1=\"19\"\n      x2=\"47\"\n      y2=\"19\"\n      style=\"fill:none;stroke:#fff;stroke-linecap:round;stroke-miterlimit:10;stroke-width:4px\"\n    /></svg>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\n@Component\nexport default class Link extends Vue {}\n</script>\n\n\n<style lang=\"stylus\" scoped>\nsvg {\n    width 14px\n    margin-right 5px\n    top -2px\n    position relative\n}\n</style>\n\n\n","<template>\n  <div\n    class=\"photo-box\"\n    v-show=\"img\"\n    @mouseup=\"up\"\n    @touchend=\"up\"\n    @touchstart=\"down\"\n    @mousedown=\"down\"\n    @mousemove=\"move\"\n    @touchmove=\"move\"\n    @dragstart.prevent=\"noop\"\n    @mousewheel=\"wheel\"\n  >\n    <div class=\"controll-bar\">\n      <div\n        class=\"large\"\n        @click=\"resize('reset')\"\n      > <redo/> <span>{{label.reset}}</span></div>\n      <div\n        class=\"large\"\n        @click=\"resize('large')\"\n      > <large/> <span>{{label.large}}</span></div>\n      <div\n        class=\"small\"\n        @click=\"resize('small')\"\n      > <icon-small />  <span>{{label.small}}</span></div>\n      <div\n        class=\"link\"\n        v-show=\"link\"\n        @click=\"openLink\"\n      > <icon-link/> <span>{{ label.link }}</span></div>\n      <div\n        class=\"close\"\n        @click=\"close\"\n      > <icon-close />  <span>{{ label.close }}</span></div>\n    </div>\n    <img\n      :src=\"img\"\n      :style=\"PositionStyle\"\n      v-show=\"imgLoaded\"\n      @load=\"loaded\"\n    >\n    <div\n      class=\"loading\"\n      v-if=\"!imgLoaded\"\n    ><loading/></div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\nimport loading from \"./loading.vue\";\nimport redo from \"./redo.vue\";\nimport IconClose from \"./close.vue\";\nimport IconSmall from \"./small.vue\";\nimport large from \"./large.vue\";\nimport IconLink from \"./link.vue\";\n\nconst defaultLabel = () => ({\n      reset: \"重置\",\n      link: \"跳转\",\n      large: \"放大\",\n      small: \"缩小\",\n      close: \"关闭\"\n})\n\n@Component({\n    components: {\n        loading,\n        redo,\n        IconClose,\n        IconSmall,\n        large,\n        IconLink\n    }\n})\nexport default class iBox extends Vue {\n  @Prop() private img!: string;\n  @Prop() private link!: string;\n\n  @Prop({default: defaultLabel }) label! : object ;\n\n  scale = 1;\n  firstClickPosition = {\n    x: 0,\n    y: 0\n  };\n  firstClickDomPosition = {\n    x: 0,\n    y: 0\n  };\n\n  domPosotin = {\n    x: 0,\n    y: 0\n  };\n\n  imgLoaded = false;\n  canMove = false;\n\n  openLink() {\n    window.open(this.link);\n  }\n\n  close() {\n    this.scale = 1;\n    this.imgLoaded = false;\n    this.$emit(\"close\")\n  }\n\n  loaded() {\n    this.imgLoaded = true;\n  }\n  noop() {}\n  wheel(e: WheelEvent) {\n    e.preventDefault();\n    const delta = e.deltaY | e.detail;\n    if (delta < 0) {\n      this.resize(\"small\");\n    } else {\n      this.resize(\"large\");\n    }\n  }\n  resize(type: String, step = 0.1) {\n    switch (type) {\n      case \"large\":\n        this.scale += step;\n        if (this.scale > 2) {\n          this.scale = 2;\n        }\n        break;\n      case \"small\":\n        this.scale -= step;\n        if (this.scale < 0.1) {\n          this.scale = 0.1;\n        }\n        break;\n      case \"reset\":\n        this.domPosotin = {\n            x: 0,\n            y: 0\n        }\n        this.scale = 1;\n        break;\n    }\n  }\n  down(e: any) {\n    const img = <HTMLElement>this.$refs.img;\n    if (e.touches) {\n      e = e.touches[0];\n    }\n    this.firstClickPosition = {\n      x: e.clientX,\n      y: e.clientY\n    };\n    this.firstClickDomPosition = Object.assign({}, this.domPosotin)\n    this.canMove = true;\n  }\n  move(e: any) {\n    if (!this.canMove) {\n      return;\n    }\n    if (e.touches) {\n      e.preventDefault();\n      e = e.touches[0];\n    }\n    const distanceX = e.clientX - this.firstClickPosition.x;\n    const distanceY = e.clientY - this.firstClickPosition.y;\n    this.domPosotin.x = this.firstClickDomPosition.x + distanceX;\n    this.domPosotin.y = this.firstClickDomPosition.y + distanceY;\n  }\n\n  up(e: any) {\n    this.canMove = false;\n  }\n\n  get PositionStyle(){\n      return {\n          transform: `scale(${this.scale})`,\n          left: this.domPosotin.x + \"px\",\n          top: this.domPosotin.y + \"px\"\n      }\n  }\n}\n</script>\n\n\n<style scoped lang=\"stylus\">\n.photo-box\n  position fixed\n  z-index 99\n  left 0\n  right 0\n  bottom 0\n  top 0\n  display flex\n  justify-content center\n  align-items center\n  .controll-bar\n    position fixed\n    top 0\n    left 0\n    right 0\n    height 4rem\n    background #000\n    color #fff\n    z-index 5\n    display flex\n    justify-content flex-end\n    align-items: center\n    div\n      display flex\n      line-height 4rem\n      height 4rem\n      width 6rem\n      justify-content center\n      user-select: none;\n      font-size .9rem\n      font-weight 300\n      cursor pointer\n      i\n        font-size 1.1rem\n        margin-right .5rem\n      &:hover\n        background #232323\n  img\n    z-index 2\n    max-width 100vw\n    max-height 100vh\n    position relative\n    user-select none\n  &::after\n    background rgba(0,0,0, .95)\n    z-index -1\n    position absolute\n    filter: grayscale(50%)\n    left 0\n    right 0\n    top 0\n    bottom 0\n    content: ' '\n\n</style>\n"],"names":[],"mappings":";;;;;AAwBA;;IAAA;;;;;;IAEA;;;;AAvBA,YAAY;AACZ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACgBA;;IAAA;;;;;;;;;;AAjBA,YAAY;AACZ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC0BA;;IAAA;;;;;;;;;;AA3BA,YAAY;AACZ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACwBA;;IAAA;;;;;;;;;;AAzBA,YAAY;AACZ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC+BA;;IAAA;;;;;;;;;;AAhCA,YAAY;AACZ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACqBA;;IAAA;;;;;;;;;;AAtBA,YAAY;AACZ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACsDA;;;;;;;AAkBA;;IAVA;QAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAqHA;;;;AApLA,YAAY;AACZ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}